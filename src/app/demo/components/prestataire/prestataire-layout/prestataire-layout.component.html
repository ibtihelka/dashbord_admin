<div class="prestataire-layout min-h-screen">
  
  <!-- Top Bar avec gradient moderne -->
  <div class="top-bar">
    <div class="top-bar-content">
      <div class="flex align-items-center gap-3">
        <button 
          pButton 
          icon="pi pi-bars" 
          class="p-button-text p-button-rounded lg:hidden menu-toggle"
          (click)="toggleSidebar()">
        </button>
        <div class="brand-section flex align-items-center gap-3">
          
                  <div class="logo-section">
      <img src="assets/layout/images/logo(1).png" alt="Logo" class="round-logo">
    </div>
         
          <div class="brand-text hidden md:block">
       
            <h2 class="m-0 text-xl font-bold">MyBs</h2>
            <p class="m-0 text-xs opacity-80">Espace Prestataire</p>
          </div>
        </div>
      </div>
      
      <div class="flex align-items-center gap-3">
        <div class="user-info-card hidden md:flex align-items-center gap-3 px-3 py-2">
          <div class="user-avatar">
            <i [class]="'pi ' + getRoleIcon() + ' text-xl ' + getRoleColor()"></i>
          </div>
          <div class="text-right">
          {{ getFullNameWithTitle() }}

            <p class="m-0 text-xs opacity-70">
              <i class="pi pi-briefcase mr-1"></i>{{ prestataire?.role }}
            </p>
          </div>
        </div>
        <button 
          pButton 
          icon="pi pi-sign-out" 
          label="Déconnexion"
          class="p-button-danger p-button-outlined logout-btn"
          (click)="logout()"
          pTooltip="Se déconnecter"
          tooltipPosition="bottom">
        </button>
      </div>
    </div>
  </div>

  <div class="layout-container flex">
    <!-- Sidebar Desktop avec design moderne -->
    <div class="sidebar-desktop hidden lg:block">
      <div class="sidebar-content">
        <!-- User Card dans la sidebar -->
       

        <div class="divider mb-4"></div>

        <!-- Menu Items -->
        <nav class="sidebar-nav">
          <a 
            *ngFor="let item of menuItems"
            [routerLink]="item.routerLink"
            routerLinkActive="active-menu-item"
            class="menu-item">
            <i [class]="'menu-icon pi ' + item.icon"></i>
            <span class="menu-label">{{ item.label }}</span>
           
          </a>
        </nav>

      
      </div>
    </div>

    <!-- Sidebar Mobile -->
    <p-sidebar 
      [(visible)]="sidebarVisible" 
      [style]="{width: '280px'}"
      [showCloseIcon]="false"
      styleClass="custom-sidebar">
      <ng-template pTemplate="header">
        <div class="flex align-items-center gap-2">
          <i class="pi pi-shield text-2xl text-primary"></i>
          <span class="font-bold text-lg">Menu</span>
        </div>
      </ng-template>

      <div class="mobile-sidebar-content">
        <!-- User Card Mobile -->
        <div class="sidebar-user-card mb-4">
          <div class="user-avatar-large mb-3">
            <i [class]="'pi ' + getRoleIcon() + ' text-4xl ' + getRoleColor()"></i>
          </div>
          <h4 class="m-0 mb-1 font-bold">{{ prestataire?.nom }}</h4>
          <p class="m-0 text-sm opacity-70">{{ prestataire?.prenom }}</p>
          <p-tag 
            [value]="prestataire?.role || 'Prestataire'" 
            [severity]="prestataire?.role === 'DENTISTE' ? 'info' : 'warning'"
            styleClass="mt-2">
          </p-tag>
        </div>

        <div class="divider mb-4"></div>

        <!-- Menu Items Mobile -->
        <nav class="sidebar-nav">
          <a 
            *ngFor="let item of menuItems"
            [routerLink]="item.routerLink"
            routerLinkActive="active-menu-item"
            class="menu-item"
            (click)="sidebarVisible = false">
            <i [class]="'menu-icon pi ' + item.icon"></i>
            <span class="menu-label">{{ item.label }}</span>
           
          </a>
        </nav>
      </div>
    </p-sidebar>

    <!-- Main Content avec animations -->
    <div class="main-content flex-1">
      <div class="content-wrapper">
        <router-outlet></router-outlet>
      </div>
    </div>
  </div>
</div>